<div th:fragment="searchresult(model)">
	<div th:if="${#lists.isEmpty(model.matchingPages)}">
		<div id="noDataContainer" class="text-center mt-5">
			<img src="images/no-data-found.svg" alt="No Data" style="width: 300px; height: auto;">
			<h3>No Matching Items Found</h3>
			<p>We couldn't find any items matching your search criteria. Please try again with different terms or ensure the
				correct course IDs and content are selected for replacement.</p>
		</div>

	</div>
	<div class="row" th:if="${!#lists.isEmpty(model.matchingPages)}">
		<div class="col-md-4">
			<div class="form-check">
				<input class="form-check-input" type="checkbox" value="" id="selectAllCourses">
				<label class="form-check-label" for="selectAllCourses">
					Select All
				</label>
			</div>
		</div>
		<div class="col-md-8 text-end">
			<button class="btn btn-outline-primary" onclick="showReplaceContentModal()">Replace Selected</button>
		</div>
	</div>
	<div class="accordion mt-4" id="courseAccordion" th:if="${!#lists.isEmpty(model.matchingPages)}"
		th:each="matchingPage, iterStat : ${model.matchingPages}">

		<div class="accordion-item" th:id="${matchingPage.courseId}" th:if="${iterStat.first}">
			<h2 class="accordion-header" th:id="'heading'+${iterStat.count}">
				<button class="accordion-button" type="button" data-bs-toggle="collapse"
					th:data-bs-target="'collapse'+${iterStat.count}" aria-expanded="true"
					th:aria-controls="'collapse'+${iterStat.count}">
					<svg class="accordion-icon me-2" width="16" height="16" xmlns="http://www.w3.org/2000/svg"
						fill="currentColor" viewBox="0 0 16 16">
						<path fill-rule="evenodd"
							d="M1.5 8a.5.5 0 0 1 .5-.5h12.293l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L14.293 8.5H2a.5.5 0 0 1-.5-.5z">
						</path>
					</svg>
					Course ID: [[${matchingPage.courseId}]] - [[${matchingPage.courseName}]]
				</button>
			</h2>
			<div th:id="'collapse'+${iterStat.count}" class="accordion-collapse collapse show"
				th:aria-labelledby="'heading'+${iterStat.count}" data-bs-parent="#courseAccordion">
				<div class="accordion-body">
					<div class="form-check">
						<input class="form-check-input common-checkbox course-checkbox" type="checkbox" value="" th:id="'selectCourse-'+${matchingPage.courseId}">
						<label class="form-check-label" th:for="'selectCourse-'+${matchingPage.courseId}">
							Select All Course Items
						</label>
					</div>
					<!-- Table for course 1 -->
					<table class="table table-striped table-hover">
						<thead>
							<tr>
								<th>&nbsp;</th>
								<th>Page Name</th>
								<th>Occurrences</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="pageInfo : ${matchingPage.pageInfoList}">
								<td><input type="checkbox" th:class="'form-check-input common-checkbox select-record selectCourse-'+${matchingPage.courseId}" th:id="'pageId-'+${pageInfo.type}+'-'+${pageInfo.id}"></td>

								<td><a th:href="${pageInfo.redirectUrl}" target="_blank"
										th:text="${pageInfo.pageTitle}"></a></td>
								<td th:text="${pageInfo.occurences}"></td>
								<td><button class="btn btn-primary" th:onclick="replaceSingleItem([[${pageInfo.type}]],[[${pageInfo.id}]])">Replace</button></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<div class="accordion-item" th:id="${matchingPage.courseId}" th:if="${!iterStat.first}">
			<h2 class="accordion-header" th:id="'heading'+${iterStat.count}">
				<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
					th:data-bs-target="'collapse'+${iterStat.count}" aria-expanded="false"
					th:aria-controls="'collapse'+${iterStat.count}">
					<svg class="accordion-icon me-2" width="16" height="16" xmlns="http://www.w3.org/2000/svg"
						fill="currentColor" viewBox="0 0 16 16">
						<path fill-rule="evenodd"
							d="M1.5 8a.5.5 0 0 1 .5-.5h12.293l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L14.293 8.5H2a.5.5 0 0 1-.5-.5z">
						</path>
					</svg>
					Course ID: [[${matchingPage.courseId}]] - [[${matchingPage.courseName}]]
				</button>
			</h2>
			<div th:id="'collapse'+${iterStat.count}" class="accordion-collapse collapse"
				th:aria-labelledby="'headingx'+${iterStat.count}" data-bs-parent="#courseAccordion">
				<div class="accordion-body">
					<div class="form-check">
						<input class="form-check-input common-checkbox course-checkbox" type="checkbox" value="" th:id="'selectCourse-'+${matchingPage.courseId}">
						<label class="form-check-label" th:for="'selectCourse-'+${matchingPage.courseId}">
							Select All Course Items
						</label>
					</div>
					<!-- Table for course 1 -->
					<table class="table table-striped table-hover">
						<thead>
							<tr>
								<th>&nbsp;</th>
								<th>Page Name</th>
								<th>Occurrences</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="pageInfo : ${matchingPage.pageInfoList}">
								<td><input type="checkbox" th:class="'form-check-input common-checkbox select-record selectCourse-'+${matchingPage.courseId}" th:id="'pageId-'+${pageInfo.type}+'-'+${pageInfo.id}"></td>
								<td><a th:href="${pageInfo.redirectUrl}" target="_blank"
										th:text="${pageInfo.pageTitle}"></a></td>
								<td th:text="${pageInfo.occurences}"></td>
								<td><button class="btn btn-primary">Replace</button></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
</div>